<form #lumpDocumentForm="ngForm" style="width: 100%; height: 100%;" autocomplete="off">
	<div style="height: 100%; padding-top: 0px; padding-left: 0px; padding-bottom: 0px;">
		<div style="margin-bottom: 10px;">
			<div class="eim-form-item">
				<label class="eim-form-label eim-form-label-required">{{ 'EIM_DOCUMENTS.LABEL_02001' | translate }}</label>
				<div class="eim-form-input" >
					<p-select name="type" [options]="typeSelectItems" placeholder="{{ 'EIM.INFO_00002' | translate }}" required="true"
							[(ngModel)]="selectedTypeId" (onChange)="onChangeType($event)"
							[filter]="true" [autoWidth]="true" [style]="{'width':'calc(100% - 30px)'}"></p-select>
					<button pButton type="button" severity="info" class="icon-only-button"
							icon="fa-fw fa fa-external-link" style="float: right;" pTooltip="{{ 'EIM.LABEL_03006' | translate }}"
							(click)="onClickShowObjectTypeSelector($event)"></button>
				</div>
			</div>
			<eim-text-input-form-item [(ngModel)]="path" name="path" label="{{ 'EIM_DOCUMENTS.LABEL_02051' | translate }}" [disabled]="true"></eim-text-input-form-item>
		</div>

		<div class="eim-form-item">
			<label class="eim-form-label eim-form-label-required">{{ 'EIM.LABEL_02030' | translate }}</label>
			<div class="eim-form-input eim-form-input-selected-list">
				<input name="createUser" type="text" pInputText [(ngModel)]="createUser.name" [disabled]="true" style="width: calc(100% - 30px);"/>
				<button pButton type="button" icon="fa-fw fa fa-external-link" severity="info" class="icon-only-button" style="float: right;" pTooltip="{{ 'EIM.LABEL_03006' | translate }}"
						(click)="displayUserSelector($event)"
						 [disabled]="state != STATE.EDITING"></button>
			</div>
		</div>

		<div class="eim-form-item">
			<label class="eim-form-label">{{ 'EIM_DOCUMENTS.LABEL_01005' | translate }}</label>
			<div class="eim-form-input ">
				<input name="property" type="text" pInputText [(ngModel)]="property" maxlength="{{inputMaxLength}}" style="width: 100%;"/>
			</div>
		</div>

		<div class="eim-form-item">
			<label class="eim-form-label">{{ 'EIM_DOCUMENTS.LABEL_02090' | translate }}</label>
			<div class="eim-form-input ">
				<p-datepicker #fromCalendar name="expirationDate" [(ngModel)]="expirationDate" [selectOtherMonths]="true" [dateFormat]="dateFormat" [showIcon]="true" appendTo="body"
				[showButtonBar]="true" [monthNavigator]="true" [yearNavigator]="true" [yearRange]="CALENDAR_YEAR_RANGE" [inputStyle]="{'width':'90%'}"  [showOnFocus]="false" 
				(click)="openCalendar(fromCalendar)" (onTodayClick)="onClickToday($event, fromCalendar)" (onClearClick)="onClickClear($event, fromCalendar)"></p-datepicker>
			</div>
		</div>

		<div style="width: 100%; display: flex; gap: 10px; align-items: center;">
			<label [ngClass]="(state != STATE.EDITING) ? 'eim-menu-btn' : 'eim-menu-btn'" for="directoryInput">
			  <i aria-hidden="true" class="fa fa-upload eim-menu-btn-icon" style="margin-right: 6px;"></i>
			  <span class="eim-menu-btn-label">
				{{ 'EIM_DOCUMENTS.LABEL_03006' | translate }}
			  </span>
			</label>
			<!-- ディレクトリ選択用 -->
			<input id="directoryInput" type="file" webkitdirectory multiple (change)="handleDirectoryUpload($event)" style="display: none;"/>

			<label [ngClass]="(documentList.length === 0) ? 'eim-menu-btn-disabled' : 'eim-menu-btn'" (click)="clearUploadFile()">
				<i aria-hidden="true" class="fa fa-trash eim-menu-btn-icon" style="margin-right: 6px;"></i>
				<span class="eim-menu-btn-label">
					{{ 'EIM.LABEL_03009' | translate }}
				</span>
			</label>
		</div>

		<div style="width: 100%; height: 100%; flex-grow: 1; display: flex;"
				(dragover)="handleDragOver($event)"
				(dragleave)="handleDragLeave($event)"
				(drop)="handleDrop($event)">

			<eim-lump-folder-creator-confirmation #lumpFolderCreatorConfirmation
				style="flex-grow: 1; width: 100%; height: 100%;"
				[content]="documentList"
			>
			</eim-lump-folder-creator-confirmation>
		</div>
	</div>
</form>

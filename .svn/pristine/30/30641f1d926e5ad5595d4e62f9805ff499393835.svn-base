<div style="margin-left:5px; margin-top:5px; margin-right:5px; height: 100%;" class="eim-accordion-search">

	<form #conditionForm="ngForm" style="height: 100%;" autocomplete="off" novalidate>
		<div style="height:calc(100% - 40px); overflow:auto;">
	<!-- 検索種別 -->
			<div class="p-grid" style="margin-top:-5px;">
				<div class="p-col-12" style="padding-left: 0px; padding-right: 0px;" >
					<div class="eim-form-item" >
						<label class="eim-form-label">{{ 'EIM_DOCUMENTS.LABEL_02024' | translate }}</label>
						<div class="eim-form-input">
	<!-- ドキュメント -->
							<eim-radio-button *ngIf="targetObj.document" name="searchType" label="{{ 'EIM_DOCUMENTS.LABEL_02026' | translate }}" value="document" [(ngModel)]="info.condition.searchType"></eim-radio-button>
	<!-- フォルダ -->
							<eim-radio-button  *ngIf="targetObj.folder" name="searchType" class="eim-wide-margin-left" label="{{ 'EIM_DOCUMENTS.LABEL_02027' | translate }}" value="folder" [(ngModel)]="info.condition.searchType" ></eim-radio-button>
	<!-- タグ -->
							<eim-radio-button *ngIf="targetObj.tag" name="searchType" class="eim-wide-margin-left" label="{{ 'EIM_DOCUMENTS.LABEL_02135' | translate }}" value="tag" [(ngModel)]="info.condition.searchType"></eim-radio-button>

						</div>
					</div>
				</div>
			</div>

	<!-- 検索対象 -->
		<div class="p-grid" style="margin-top:-10px;">
			<div class="p-col-12" style="padding-left: 0px; padding-right: 0px;">
				<div class="eim-form-item">
					<label class="eim-form-label">{{ 'EIM_DOCUMENTS.LABEL_02025' | translate }}</label>
					<div class="eim-form-input" style="display: flex;">
						<input [ngClass]="this.info.condition.pathCondition == 'true' ? 'search-path-target-folder' : ''" name="searchPath" type="text" pInputText [(ngModel)]="info.condition.searchPath" [disabled]="true" [ngStyle]="visibleSelect ? {width: '91%'} : {width: '100%'}" />
						<button *ngIf="visibleSelect" pButton type="button" icon="fa-fw fa fa-external-link" severity="info" class="icon-only-button" style="margin-left: 0px; float: right;" pTooltip="{{ 'EIM.LABEL_03006' | translate }}"
							(click)="onClickShowFolderSelector($event)" [disabled]="info.condition.pathCondition != 'true'? true : false" ></button>
					</div>
				</div>
			</div>
		</div>
		<div class="p-grid" style="margin-top:-10px;">
			<div class="p-col-12" style="padding-left: 0px; padding-right: 0px;margin-top:-7px;" >
				<div class="eim-form-item" >
					<label class="eim-form-label"></label>
					<div class="eim-form-input">
	<!-- 上記フォルダ以下 -->
							<eim-radio-button name="pathCondition" label="{{ 'EIM_DOCUMENTS.LABEL_02021' | translate }}" value="true" [(ngModel)]="info.condition.pathCondition"></eim-radio-button>
	<!-- 全て -->
							<eim-radio-button name="pathCondition" class="eim-wide-margin-left" label="{{ 'EIM_DOCUMENTS.LABEL_02022' | translate }}" value="false" [(ngModel)]="info.condition.pathCondition"></eim-radio-button>
							<eim-checkbox name="emptyFolder" class="eim-wide-margin-left" value="true" [(ngModel)]="info.condition.emptyFolder" binary="true" label="{{ 'EIM_DOCUMENTS.LABEL_02020' | translate }}" [disabled]="info.condition.searchType !== 'folder'"></eim-checkbox>
						</div>
					</div>
				</div>
			</div>

	<!-- キーワード -->
			<div class="p-grid" style="margin-top:-10px;">
				<div class="p-col-12" style="padding-left: 0px; padding-right: 0px;">
					<div class="eim-form-item">
						<label class="eim-form-label">{{ 'EIM_DOCUMENTS.LABEL_02023' | translate }}</label>
						<div class="eim-form-input">
							<p-autoComplete name="keyword" [(ngModel)]="info.condition.keyword" [suggestions]="keyWordSuggestions"
							(completeMethod)="onSearchSuggestions()" [maxlength]="keywordInputMaxLength"></p-autoComplete>
						</div>
					</div>
				</div>
			</div>
			<div class="p-grid" style="margin-top:-10px;">
				<div class="p-col-12" style="padding-left: 0px; padding-right: 0px;margin-top:-7px;" >
					<div class="eim-form-item" >
						<label class="eim-form-label"></label>
						<div class="eim-form-input">
							<eim-checkbox name="contents" value="true" [(ngModel)]="info.condition.contents" binary="true" label="{{ 'EIM_DOCUMENTS.LABEL_02018' | translate }}" [disabled]="info.condition.searchType !== 'document'" (onChange)="onContentsClicked($event)"></eim-checkbox>
							<eim-checkbox name="history" class="eim-wide-margin-left" value="true" [(ngModel)]="info.condition.history" binary="true" label="{{ 'EIM_DOCUMENTS.LABEL_02019' | translate }}" [disabled]="info.condition.searchType !== 'document'"></eim-checkbox>
						</div>
					</div>
				</div>
			</div>


	<!-- ステータス -->
			<div class="p-grid" style="margin-top:-10px;">
				<div class="p-col-12" style="padding-left: 0px; padding-right: 0px;">
					<div class="eim-form-item">
						<label class="eim-form-label">{{ 'EIM.LABEL_02008' | translate }}</label>
						<div class="eim-form-input">
							<p-select name="status" [options]="statuses" [(ngModel)]="info.condition.status" appendTo="body" [disabled]="info.condition.searchType === 'tag' ? true : false"></p-select>
						</div>
					</div>
				</div>
				<div class="p-col-12" style="padding-right: 0px;">
					<div style="margin-left: auto; margin-top: -15px;" class="p-rtl" dir="rtl">
	<!-- さらに詳細条件を表示 -->
						<button pButton type="button" severity="info" label="{{detailConditionButtonLabel}}" [icon]="info.isShowDetailCondition ? 'fa-lg fa fa-caret-up' : 'fa-lg fa fa-caret-down'" (click)="onClickDetailCondition($event)"></button>
					</div>
				</div>
			</div>

			<div class="eim-accordion-search-detail-panel-outer" [style.display]="info.isShowDetailCondition ? '' : 'none'">
				<div style="display: flex; margin-left: 7px; margin-top: 3px;margin-bottom: 20px;">
					<div class="eim-data-grid-menu" *ngIf="tableMenuItems.length > 0">
						<eim-menubar [model]="tableMenuItems"></eim-menubar>
					</div>
					<div style="margin-left: 30px; margin-right: auto; padding-top: 5px;">

						<div class="eim-form-item" style="width: 100%; margin-top: auto; margin-bottom: auto;">
							<div class="eim-form-input" style="width: 100%;">
								<eim-checkbox name="chkDetailLikeSearch" binary="true"
									[(ngModel)]="info.condition.chkDetailLikeSearch" label="{{ 'EIM_DOCUMENTS.LABEL_02017' | translate }}"></eim-checkbox>
							</div>
	<!-- 文字列・テキスト・ユーザ名称を指定した場合、入力文字列で部分一致検索を行います。  -->
							<span class="eim-icon-info"
								style="padding-left: 3px; color: #0d98ed;"
								positionStyle="fixed"
								pTooltip="{{ 'EIM_DOCUMENTS.LABEL_02085' | translate }}"></span>
						</div>
					</div>
				</div>

				<div class="eim-search-detail-panel-inner">
					<div class="p-grid eim-search-detail-condition-attribute">
						<div *ngFor="let cond of info.condition.detailConditionList" class="p-col-12 detail-condition-row">
							<div *ngIf="cond.valTypeId == Constant.VALUE_TYPE_STRING || cond.valTypeId == Constant.VALUE_TYPE_TEXT">
								<div class="eim-form-item search-detail-condition-row" *ngIf="!cond.inputRule">
									<label class="eim-form-label">{{cond.label}}</label>
									<div class="eim-form-input" style="display: block !important;width:61%;">
										<input name="{{cond.field}}" type="text" [disabled]="cond.checkStatus == true ? true : false" pInputText [(ngModel)]="cond.inputValue" maxlength="{{getMaxLength(cond.valTypeId)}}" style="width: 100%;">
									</div>
									<div class="eim-form-input" style="padding-left: 3px;margin-top:3px;width: 19%;">
										<div *ngIf="cond.checkField != null" style="position:relative;">
											<eim-checkbox name="{{cond.checkField}}" binary="true"
											[(ngModel)]="cond.checkStatus" label="{{ 'EIM_DOCUMENTS.LABEL_02218' | translate }}"></eim-checkbox>
										</div>
									</div>
								</div>

								<div class="eim-form-item search-detail-condition-row" *ngIf="cond.inputRule">
									<label class="eim-form-label">{{cond.label}}</label>
									<div class="eim-form-input" style="display: block !important;width:61%;">
										<p-select name="{{cond.field}}" appendTo="body" [disabled]="cond.checkStatus == true ? true : false" class="eim-form-input-multi-dropdown" [options]="cond.inputRuleValueList" [(ngModel)]="cond.inputValue" [style]="{'width':'100%'}"></p-select>
									</div>
									<div class="eim-form-input" style="padding-left: 3px;margin-top:3px;width: 19%;">
										<div *ngIf="cond.checkField != null" style="position:relative;">
											<eim-checkbox name="{{cond.checkField}}" binary="true"
											[(ngModel)]="cond.checkStatus" label="{{ 'EIM_DOCUMENTS.LABEL_02218' | translate }}"></eim-checkbox>
										</div>
									</div>
								</div>
							</div>


							<div *ngIf="cond.valTypeId == Constant.VALUE_TYPE_DOUBLE">

								<div class="eim-form-item search-detail-condition-row" *ngIf="!cond.inputRule">
									<label class="eim-form-label">{{cond.label}}</label>
									<div class="eim-form-input" style="display: flex; height: 26px;width:61%;">
										<input *ngIf="!cond.inputRule" name="{{cond.fieldFrom}}" [disabled]="cond.checkStatus == true ? true : false" type="text" pInputText [(ngModel)]="cond.inputValueFrom" maxlength="{{getMaxLength(cond.valTypeId)}}" pattern="^([+-]?[1-9]\d*|0)(\.\d+)?$" style="width: 50%;">
										<div style="margin-left: 6px; align-self: center;"><label class="eim-form-label">{{DELIMITER_TIDE}}</label></div>
										<input *ngIf="!cond.inputRule" name="{{cond.fieldTo}}" [disabled]="cond.checkStatus == true ? true : false" type="text" pInputText [(ngModel)]="cond.inputValueTo" maxlength="{{getMaxLength(cond.valTypeId)}}" pattern="^([+-]?[1-9]\d*|0)(\.\d+)?$" style="width: 50%;">
									</div>
									<div class="eim-form-input" style="padding-left: 3px;margin-top:3px;width: 19%;">
										<div *ngIf="cond.checkField != null" style="position:relative;">
											<eim-checkbox name="{{cond.checkField}}" binary="true"
											[(ngModel)]="cond.checkStatus" label="{{ 'EIM_DOCUMENTS.LABEL_02218' | translate }}"></eim-checkbox>
										</div>
									</div>
								</div>


								<div class="eim-form-item search-detail-condition-row" *ngIf="cond.inputRule">
									<label class="eim-form-label">{{cond.label}}</label>
									<div class="eim-form-input" style="display: flex; height: 26px;">
										<p-select [options]="cond.inputRuleValueList" appendTo="body" name="{{cond.fieldFrom}}" [disabled]="cond.checkStatus == true ? true : false" [(ngModel)]="cond.inputValueFrom" [style]="{'width': '100%'}"></p-select>
										<div style="margin-left: 6px; align-self: center;"><label class="eim-form-label">{{DELIMITER_TIDE}}</label></div>
										<p-select [options]="cond.inputRuleValueList" appendTo="body" name="{{cond.fieldTo}}" [disabled]="cond.checkStatus == true ? true : false" [(ngModel)]="cond.inputValueTo" [style]="{'width': '100%'}"></p-select>
										<div style="width:37%;padding-left:3.2%;margin-top:3px;">
											<div *ngIf="cond.checkField != null" style="position:relative;">
												<eim-checkbox name="{{cond.checkField}}" binary="true"
												[(ngModel)]="cond.checkStatus" label="{{ 'EIM_DOCUMENTS.LABEL_02218' | translate }}"></eim-checkbox>
											</div>
										</div>
									</div>
								</div>
							</div>

							<div *ngIf="cond.valTypeId == Constant.VALUE_TYPE_INTEGER">

								<div class="eim-form-item search-detail-condition-row" *ngIf="!cond.inputRule">
									<label class="eim-form-label">{{cond.label}}</label>
									<div class="eim-form-input" style="display: flex; height: 26px;width:61%;">
										<input *ngIf="!cond.inputRule" name="{{cond.fieldFrom}}" [disabled]="cond.checkStatus == true ? true : false" type="text" pInputText [(ngModel)]="cond.inputValueFrom" maxlength="{{getMaxLength(cond.valTypeId)}}" pattern="^([+-]?[1-9]\d*|0)?$" style="width: 50%;">
										<div style="margin-left: 6px; align-self: center;"><label class="eim-form-label">{{DELIMITER_TIDE}}</label></div>
										<input *ngIf="!cond.inputRule" name="{{cond.fieldTo}}" [disabled]="cond.checkStatus == true ? true : false" type="text" pInputText [(ngModel)]="cond.inputValueTo" maxlength="{{getMaxLength(cond.valTypeId)}}" pattern="^([+-]?[1-9]\d*|0)?$" style="width: 50%;">
									</div>
									<div class="eim-form-input" style="padding-left: 3px;margin-top:3px;width: 19%;">
										<div *ngIf="cond.checkField != null" style="position:relative;">
											<eim-checkbox name="{{cond.checkField}}" binary="true"
											[(ngModel)]="cond.checkStatus" label="{{ 'EIM_DOCUMENTS.LABEL_02218' | translate }}"></eim-checkbox>
										</div>
									</div>
								</div>

								<div class="eim-form-item search-detail-condition-row" *ngIf="cond.inputRule">
									<label class="eim-form-label">{{cond.label}}</label>
									<div class="eim-form-input" style="display: flex; height: 26px;">
										<p-select [options]="cond.inputRuleValueList" appendTo="body" name="{{cond.fieldFrom}}" [disabled]="cond.checkStatus == true ? true : false" [(ngModel)]="cond.inputValueFrom" [style]="{'width': '100%'}"></p-select>
										<div style="margin-left: 6px; align-self: center;"><label class="eim-form-label">{{DELIMITER_TIDE}}</label></div>
										<p-select [options]="cond.inputRuleValueList" appendTo="body" name="{{cond.fieldTo}}" [disabled]="cond.checkStatus == true ? true : false" [(ngModel)]="cond.inputValueTo" [style]="{'width': '100%'}"></p-select>
										<div style="width:37%;padding-left:3.2%;margin-top:3px;">
											<div *ngIf="cond.checkField != null" style="position:relative;">
												<eim-checkbox name="{{cond.checkField}}" binary="true"
												[(ngModel)]="cond.checkStatus" label="{{ 'EIM_DOCUMENTS.LABEL_02218' | translate }}"></eim-checkbox>
											</div>
										</div>
									</div>
								</div>
							</div>

							<div *ngIf="cond.valTypeId == Constant.VALUE_TYPE_DATE">
								<div class="eim-form-item search-detail-condition-row">
									<label class="eim-form-label">{{cond.label}}</label>
									<div class="eim-form-input" style="display: flex;height: 26px;width:58%;">
										<div style="max-width: 116px;">
											<p-datepicker #fromCalendar name="{{cond.fieldFrom}}" [disabled]="cond.checkStatus == true ? true : false" [(ngModel)]="cond.inputValueFrom" [selectOtherMonths]="true" dateFormat="{{dateFormat}}" [showIcon]="true" appendTo="body"
												[showButtonBar]="true" [monthNavigator]="true" [yearNavigator]="true" [yearRange]="CALENDAR_YEAR_RANGE" [inputStyle]="{'width':'90%'}"  [showOnFocus]="false"
												(click)="openCalendar(fromCalendar)" (onTodayClick)="onClickToday($event, fromCalendar)" (onClearClick)="onClickClear($event, fromCalendar)"></p-datepicker>
										</div>
										<div style="margin-left: 6px; align-self: center;"><label class="eim-form-label">{{DELIMITER_TIDE}}</label></div>
										<div style="max-width: 116px;">
											<p-datepicker #toCalendar name="{{cond.fieldTo}}" [disabled]="cond.checkStatus == true ? true : false" [(ngModel)]="cond.inputValueTo" [selectOtherMonths]="true" dateFormat="{{dateFormat}}" [showIcon]="true" appendTo="body"
												[showButtonBar]="true" [monthNavigator]="true" [yearNavigator]="true" [yearRange]="CALENDAR_YEAR_RANGE" [inputStyle]="{'width':'90%'}"  [showOnFocus]="false"
												(click)="openCalendar(toCalendar)" (onTodayClick)="onClickToday($event, toCalendar)" (onClearClick)="onClickClear($event, toCalendar)"></p-datepicker>
										</div>
									</div>
									<div class="eim-form-input" style="padding-left: 2.8%;margin-top:3px;width: 21%;">
										<div *ngIf="cond.checkField != null" style="position:relative;">
											<eim-checkbox name="{{cond.checkField}}" binary="true"
											[(ngModel)]="cond.checkStatus" label="{{ 'EIM_DOCUMENTS.LABEL_02218' | translate }}"></eim-checkbox>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>

			<hr>
	<!-- ファセット -->
			<div style="height: auto; margin-bottom:15px;border: 3px solid #6a9fe8;" [hidden]="!facetDispFlg">
				<eim-tree #tree style="line-height:19px;"  [componentService]="treeComponentService" (selected)="onSelectTreeNode($event)"></eim-tree>

				<eim-tree #checkTree value="nodes" style="line-height:19px;"  [componentService]="treeComponentService" (selected)="onSelectCheckTreeNode($event)" selectionMode="checkbox"></eim-tree>
			</div>
		</div>
		<div style="display:flex; margin-top:5px;">
			<!-- CSVダウンロード -->
			<button pButton type="button" label="{{ 'EIM_DOCUMENTS.LABEL_03018' | translate }}" icon="fa fa-download"
				[disabled]="disabledCsvDownloadFlg" (click)="onClickCsvDownload()" class="eim-contents-search-btn p-button-primary"
				style="margin-right:5px; white-space:nowrap;"></button>
			<!-- 検索ボタン -->
			<button pButton type="submit" label="{{ 'EIM.LABEL_03007' | translate }}" icon="eim-icon-search" (click)="onClickSearchBtn($event)"
				[disabled]="!searchable(conditionForm)" class="eim-contents-search-btn p-button-primary"
				style="letter-spacing: 5px; margin-right:5px; white-space:nowrap;"></button>
			<!-- クリア -->
			<button pButton type="button" class="p-button-secondary" label="{{ 'EIM.LABEL_03009' | translate }}" (click)="onClear($event);"
				style=" white-space:nowrap;"></button>
		</div>

	</form>

</div>
<div #tooltipArea></div>

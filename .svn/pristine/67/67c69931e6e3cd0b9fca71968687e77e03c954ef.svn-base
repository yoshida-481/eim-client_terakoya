<div (contextmenu)="onContextMenu($event)" #contextMenuDiv
		style="width: 100%; height: 100%;">

	<p-treeTable id="tree-data-grid" class="eim-font eim-tree-data-grid"
		[value]="info.data" [columns]="treeDataGridColumns" [(selection)]="info.selectedData"
		[selectionMode]="multiple ? 'multiple' : 'single'"
		[contextMenu]="contextMenu"
		(onNodeSelect)="onSelect($event.node, $event.originalEvent)"
		(onNodeUnselect)="onUnselect($event.node, $event.originalEvent)"
		(onNodeExpand)="onExpand($event.node)"
		(onNodeContextMenuSelect)="onNodeContextMenuSelect($event)"
		[style]="{'height':'100%'}"
		[scrollable]="true" scrollHeight="flex"
		[resizableColumns]="true"
		[metaKeySelection]="true">

		<ng-template pTemplate="colgroup" let-columns>
			<colgroup>
				<col *ngFor="let col of columns">
			</colgroup>
		</ng-template>
		<ng-template pTemplate="header" let-columns>
			<tr style="height: 25px">
				<th *ngFor="let col of columns" ttResizableColumn class="eim-tree-data-grid-table-header" [ngStyle]="{'width.px': col.width - 1, 'max-width.px': col.width - 1}">
					{{col.headerName}}
				</th>
			</tr>
		</ng-template>
		<ng-template pTemplate="body" let-rowNode let-rowData="rowData" let-columns="columns" pTemplate="body">
			<tr [ttSelectableRow]="rowNode">
				<td *ngFor="let col of columns; let i = index" height="{{rowHeight}}px" [ngStyle]="{'width.px': col.width - 1, 'max-width.px': col.width - 1, 'border': '0px'}">
					<div style="display: flex">
						<div *ngIf="i == 0" [ngStyle]="{'display': 'inline-block', 'height.px': rowHeight, 'line-height.px': rowHeight}">
							<div [ngStyle]="{'margin-left': '20px', 'vertical-align': 'middle'}"></div>
							<p-treeTableToggler [rowNode]="rowNode" [ngStyle]="{'vertical-align': 'middle'}"></p-treeTableToggler>
						</div>

						<div *ngIf="col.icon && !rowData.icon" [ngStyle]="col.cellStyle" style="display: flex; overflow: hidden; align-items: center;">
							<i style="vertical-align: text-center;" class="fa {{col.icon}}"></i>
							<label *ngIf="col.tooltip" pTooltip="{{rowData[col.field]}}" style="white-space: nowrap" tooltipPosition="top">{{rowData[col.field]}}</label>
							<label *ngIf="!col.tooltip" style="white-space: nowrap">{{rowData[col.field]}}</label>
						</div>
						<div *ngIf="col.icon && rowData.icon" [ngStyle]="col.cellStyle" style="display: flex; overflow: hidden; align-items: center;">
							<i style="vertical-align: text-center;" class="fa {{rowData.icon}}"></i>
							<label *ngIf="col.tooltip" pTooltip="{{rowData[col.field]}}" style="white-space: nowrap" tooltipPosition="top">{{rowData[col.field]}}</label>
							<label *ngIf="!col.tooltip" style="white-space: nowrap">{{rowData[col.field]}}</label>
						</div>
						<div *ngIf="!col.icon" [ngStyle]="col.cellStyle" style="display: flex; align-items: center;">
							<label *ngIf="col.tooltip" style="white-space: nowrap" pTooltip="{{rowData[col.field]}}" tooltipPosition="top">{{rowData[col.field]}}</label>
							<label *ngIf="!col.tooltip" style="white-space: nowrap">{{rowData[col.field]}}</label>
						</div>
					</div>
				</td>
			</tr>
		</ng-template>
	</p-treeTable>
	<p-contextMenu #contextMenu [model]="contextMenuItems" [target]="contextMenuDiv" appendTo="body"></p-contextMenu>
</div>

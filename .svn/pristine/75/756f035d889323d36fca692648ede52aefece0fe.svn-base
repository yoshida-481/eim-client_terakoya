<div class="container" style="height:100%">
	<span style="height: 100%; display: grid; grid-template-rows: auto 1fr;">
		<div class="eim-menubar-button">
			<eim-menubar [model]="masterMenuItems"></eim-menubar>
		</div>
		<!-- タスク一覧 -->
		<eim-data-grid class="eim-data-grid"
				#masterDataGrid [enableTreeView]="true"
				[setAdditionalPropertiesToTreeNodeFunction]="setAdditionalPropertiesToTreeNodeFunction.bind(this)"
				[setAdditionalTreeNodeRelationFunction]="setAdditionalTreeNodeRelationFunction.bind(this)"
				[contextMenuItems]="contentsTreeMenuItems"
				(expanded)="onExpandedTreeNode($event)"
				(changed)="onChangedTreeNode($event)"
				(rowDoubleClicked)="onRowDoubleClicked($event)">
		</eim-data-grid>
	</span>
</div>

<!-- プロジェクトマスタ登録 -->
<ng-container *ngIf="viewDialogName === 'projectMasterCreator'" novalidate>
	<eim-dialog header="{{ 'EIM_TASKS.LABEL_01007' | translate }}" modal="true" width="675" contentMaxHeight="280"
		class="eim-dialog"
			[fitHeight]="true"
			[visible]="viewDialogName === 'projectMasterCreator'"
			[enableMaximize]="false"
			(close)="onCloseDialog()">
		<eim-project-master-creator *ngIf="viewDialogName === 'projectMasterCreator'"
				(created)="onCreatedProjectMaster($event)">
		</eim-project-master-creator>
	</eim-dialog>
</ng-container>

<!-- プロジェクトマスタ更新 -->
<ng-container *ngIf="viewDialogName === 'projectMasterUpdator'" novalidate>
	<eim-dialog header="{{ 'EIM_TASKS.LABEL_01008' | translate }}" modal="true" width="675" contentMaxHeight="280"
			class="eim-dialog"
			[fitHeight]="true"
			[visible]="viewDialogName === 'projectMasterUpdator'"
			[enableMaximize]="false"
			(close)="onCloseDialog()">
		<eim-project-master-updator *ngIf="viewDialogName === 'projectMasterUpdator'"
				[projectDTO]="selectedNode?.dto" (updated)="onUpdatedProjectMaster($event)">
		</eim-project-master-updator>
	</eim-dialog>
</ng-container>

<!-- プロセスマスタ登録 -->
<ng-container *ngIf="viewDialogName === 'processMasterCreator'" novalidate>
	<eim-dialog header="{{ 'EIM_TASKS.LABEL_01009' | translate }}" modal="true" width="675" contentMaxHeight="280"
			class="eim-dialog"
			[fitHeight]="true"
			[visible]="viewDialogName === 'processMasterCreator'"
			[enableMaximize]="false"
			(close)="onCloseDialog()">
		<eim-process-master-creator *ngIf="viewDialogName === 'processMasterCreator'"
				[parentDTO]="selectedNode?.dto" [parentPath]="selectedPath" (created)="onCreatedProcessMaster($event)">

		</eim-process-master-creator>
	</eim-dialog>
</ng-container>

<!-- プロセスマスタ更新 -->
<ng-container *ngIf="viewDialogName === 'processMasterUpdator'" novalidate>
	<eim-dialog header="{{ 'EIM_TASKS.LABEL_01010' | translate }}" modal="true" width="675" contentMaxHeight="280"
			class="eim-dialog"
			[fitHeight]="true"
			[visible]="viewDialogName === 'processMasterUpdator'"
			[enableMaximize]="false"
			(close)="onCloseDialog()">
		<eim-process-master-updator *ngIf="viewDialogName === 'processMasterUpdator'"
				[parentDTO]="selectedNode?.parentTreeNode?.dto" [processDTO]="selectedNode?.dto" (updated)="onUpdatedProcessMaster($event)">

		</eim-process-master-updator>
	</eim-dialog>
</ng-container>

<!-- タスクマスタ登録 -->
<ng-container *ngIf="viewDialogName === 'taskMasterCreator'" novalidate>
	<eim-dialog header="{{ 'EIM_TASKS.LABEL_01011' | translate }}" modal="true" width="1250" height="525"
			class="eim-dialog"
			[visible]="viewDialogName === 'taskMasterCreator'"
			[enableMaximize]="false"
			(close)="onCloseDialog()">
		<eim-task-master-creator *ngIf="viewDialogName === 'taskMasterCreator'"
				[parentDTO]="selectedNode?.dto" [parentPath]="selectedPath" (created)="onCreatedTaskMaster($event)">

		</eim-task-master-creator>
	</eim-dialog>
</ng-container>

<!-- タスクマスタ更新 -->
<ng-container *ngIf="viewDialogName === 'taskMasterUpdator'" novalidate>
	<eim-dialog header="{{ 'EIM_TASKS.LABEL_01012' | translate }}" modal="true" width="1250" height="525"
			class="eim-dialog"
			[visible]="viewDialogName === 'taskMasterUpdator'"
			[enableMaximize]="false"
			(close)="onCloseDialog()">
		<eim-task-master-updator *ngIf="viewDialogName === 'taskMasterUpdator'"
				[parentDTO]="selectedNode?.parentTreeNode?.dto" [taskId]="selectedNode?.dto?.id" [parentPath]="selectedPath" (updated)="onUpdatedTaskMaster($event)">

		</eim-task-master-updator>
	</eim-dialog>
</ng-container>
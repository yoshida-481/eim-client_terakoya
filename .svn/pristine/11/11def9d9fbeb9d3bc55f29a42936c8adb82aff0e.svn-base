@use '_variables' as *;
@use 'tasks-theme' as *;

@use 'dropdown' as *;
@use 'tab' as *;
@use 'input-for-selection' as *;
@use 'chips-for-selection' as *;
@use 'tab-panel' as *;
@use 'form' as *;
@use 'tree' as *;
@use 'data-grid' as *;
@use 'gantt-chart' as *;
@use 'menubar' as *;
@use 'menubar-block' as *;
@use 'menubar-button' as *;
@use 'contextmenu' as *;
@use 'activable-menu' as *;
@use 'panel' as *;
@use 'stretched-panel' as *;
@use 'panel-flat' as *;
@use 'select-button' as *;
@use 'progress-bar-renderer' as *;
@use 'dialog' as *;

$eim-portals-sidebar-background-color: rgba(73, 70, 70, .9);
$eim-portals-sidebar-selected-color: #fff;
$eim-portals-sidebar-not-selected-color: #98a8af;
$eim-portals-sidebar-disabled-color: #6c7477;

::ng-deep .eim-icon-project:before {
	font-family: 'FontAwesome' !important;
	content: "\f015";
}
::ng-deep .eim-icon-process:before {
	font-family: 'eim-icon' !important;
	content: "\e917";
}
::ng-deep .eim-icon-task:before {
	font-family: 'FontAwesome' !important;
	content: "\f058";
}
::ng-deep .eim-icon-home:before {
	font-family: 'FontAwesome' !important;
	content: "\f015";
}

::ng-deep .eim-icon-document:before {
    content: "\f15b";
}

.eim-portals {
	background: $eim-background-color;
}
.eim-portals .eim-sidebar-space {
	width: 40px;
}

.eim-portals .eim-sidebar {
	background-color: $eim-portals-sidebar-background-color;
	color: $eim-portals-sidebar-selected-color;
	transition: color 0.1s ease-out;
	width: 40px;
	//min-width: 40px;
	position: absolute;
    height: 100%;
    z-index: 10;
	transition: width 0.1s ease-out;
	ul {
		padding-left: 0px;
		margin-block-start: 0px;
		margin-block-end: 0px;
		li {
			list-style: none!important;
			user-select: none;

			padding: 8px 0px 0px 0px;
			margin-right: 4px;
			border-width: 0px 0px 0px 4px;
			border-style: solid;
			border-color: transparent;

			color: $eim-portals-sidebar-not-selected-color;
			transition: color 0.1s ease-out;
			text-align: center;

			a {
				cursor: pointer;
				i {
					font-size: 24px;
				}
				.eim-sidebar-label {
					overflow: hidden;
					white-space: nowrap;
					color: $eim-portals-sidebar-background-color;
					transition: color 0.1s ease-out;
					font-size: 10px;
				}
			}
		}
		li:hover {
			color: $eim-portals-sidebar-selected-color;
			transition: color 0.1s ease-out;
		}
		li.eim-sidebar-disabled {
			color: $eim-portals-sidebar-disabled-color;
			a {
				cursor: default;
			}
		}
		li.eim-sidebar-disabled:hover {
			color: $eim-portals-sidebar-disabled-color;
		}

		.eim-sidebar-selected {
			border-color: $eim-portals-sidebar-selected-color;
			color: $eim-portals-sidebar-selected-color;
			transition: color 0.1s ease-out;
		}
	}
}
.eim-portals .eim-sidebar:hover {
	width: 84px;	
	//min-width: 84px;
	transition: width 0.3s ease-out;
	ul {
		li:not(.eim-sidebar-disabled) {
			a {
				.eim-sidebar-label {
					color: $eim-portals-sidebar-not-selected-color;
					transition: color 0.1s ease-out;
				}
			}
		}
		li:not(.eim-sidebar-disabled):hover {
			a {
				.eim-sidebar-label {
					color: #ffffff;
					transition: color 0.1s ease-out;
				}
			}
		}
		li.eim-sidebar-disabled, li.eim-sidebar-disabled:hover {
			a {
				.eim-sidebar-label {
					color: $eim-portals-sidebar-disabled-color;
					transition: color 0.1s ease-out;
				}
			}
		}
		li.eim-sidebar-selected {
			a {
				.eim-sidebar-label {
					border-color: $eim-portals-sidebar-selected-color;
					color: $eim-portals-sidebar-selected-color;
					transition: color 0.1s ease-out;
				}
			}
		}
	}
}


// 進捗率
::ng-deep .eim-task-input-form-item-progress-rate {
	eim-number-input-form-item .eim-form-input .p-inputtext {
		width: 50px;
	}
}

// メモ
::ng-deep .eim-task-input-form-item-memo {
	height: 100%;
	.eim-form-item {
		height: calc(100% - (#{$eim-input-margin-top} + #{$eim-input-margin-bottom}));
		.eim-form-input {
			height: 100%;
			> div {
				height: 100%;
				.eim-form-input-surround {
					height: 100%;
					.p-editor-container {
						height: 100%;
						.p-editor-content {
							height: calc(100% - 27px)!important;
						}
					}
				}
			}
		}
	}
}

::ng-deep .eim-task-manager-tasks-complete {
	background-color: rgb(211,211,211)!important
}

::ng-deep .eim-task-manager-tasks-working {
	background-color: #a3d1ff !important;
}

::ng-deep .eim-task-manager-tasks-delay {
	background-color: #ffa3a3 !important;
}

// ------------------------------------------
// ドキュメント管理のメインメニューをボタンに変換

// // 青色背景のメニュー設定値をキャンセル
// ::ng-deep .eim-portals .eim-menu-box-document .p-menubar {
// 	width: auto;
// 	background: initial;
// 	a.p-menubar-item-link {
// 		min-width: 0px;
// 	}
// 	border: none;
// }
// ::ng-deep .eim-portals .eim-menu-box p-menubarsub > .p-menubar-root-list > .p-menubar-item > .p-menubar-item-content > .p-menubar-item-link > .p-menubar-item-icon {
// 	font-size: inherit;
// }
// ::ng-deep .eim-portals .eim-menu-box .p-menubar .p-menubar-root-list > .p-menubar-item > .p-menubar-item-content > .p-menubar-item-link {
// 	display: flex;
// }
// ::ng-deep .eim-portals .eim-menu-box .p-menubar .p-menubar-item:not(.p-menubar-item-active) > .p-menubar-item-content > .p-menubar-item-link, .eim-menu-box .p-menubar .p-menubar-item .p-menubar-item-link:not(:hover) {
// 	color: inherit;
// }
// ::ng-deep .eim-portals .eim-menu-box .p-menubar .p-menubar-item-active.p-menubar-item > .p-menubar-item-content > .p-menubar-item-link, .eim-menu-box .p-menubar .p-menubar-item .p-menubar-item-link:hover {
// 	background: initial!important;
// 	color: initial;
// 	border-radius: initial;
// }

// 文書管理のメインメニューにボタンのスタイルを適用
// ::ng-deep .eim-portals .eim-menu-box {
// 	margin: 2px 4px;
// }
// ::ng-deep .eim-portals .eim-menu-box .p-menubar .p-menubar-root-list {
// 	gap: $eim-gap;

// 	> .p-menubar-item{
// 		height: $eim-button-height;
// 		padding: $eim-button-padding;
// 		padding-top: 0px;
// 		> .p-menubar-item-link {
// 			padding: 1px;
// 			> .p-menubar-item-icon {
// 				margin: $eim-label-icon-margin;
// 			}
// 		}
// 	}
// 	> .p-menubar-item:not(.p-highlight):not(.p-disabled) {
// 		// 有効（押下可）
// 		color: $eim-enabled-button-color;
// 		font-weight: $eim-enabled-button-font-weight;
// 		background: $eim-enabled-button-background;
// 		border: $eim-enabled-button-border;
// 		border-radius: $eim-enabled-button-border-radius;
// 	}
// 	> .p-menubar-item-active:not(.p-highlight):not(.p-disabled) {
// 		// マウスオーバー、有効（編集可）
// 		color: $eim-hovered-enabled-button-color;
// 		font-weight: $eim-hovered-enabled-button-font-weight;
// 		background: $eim-hovered-enabled-button-background;
// 		border: $eim-hovered-enabled-button-border;
// 		border-radius: $eim-hovered-enabled-button-border-radius;
// 	}
// }

// // サブメニュー マウスオーバー、有効（編集可）
// // ::ng-deep .eim-portals .eim-menu-box .p-menubar > p-menubarsub p-menubarsub .p-menubar-item .p-menubar-item-link:hover {
// // 	background: $eim-hovered-enabled-button-background;
// // 	border-radius: 0px;
// // 	color: $eim-hovered-enabled-button-color;
// // }

// ::ng-deep .eim-portals .eim-menu-box .p-menubar .p-menubar-item .p-menubar-item-link:hover {
// 	color: $eim-hoverd-enabled-menu-item-color;
// 	font-weight: $eim-hoverd-enabled-menu-item-font-weight;
// 	background: $eim-hoverd-enabled-menu-item-background;
// 	border: $eim-hoverd-enabled-menu-item-border;
// 	border-radius: $eim-hoverd-enabled-menu-item-border-radius;
// }
// // ------------------------------------------
